/* CategoryView.c generated by valac 0.50.1, the Vala compiler
 * generated from CategoryView.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/**/
/*  Copyright (C) 2011-2012 Giulio Collura*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <gtk/gtk.h>
#include <glib-object.h>
#include <gee.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>
#include <float.h>
#include <math.h>

#define ROCKER_WIDGETS_TYPE_CATEGORY_VIEW (rocker_widgets_category_view_get_type ())
#define ROCKER_WIDGETS_CATEGORY_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_CATEGORY_VIEW, RockerWidgetsCategoryView))
#define ROCKER_WIDGETS_CATEGORY_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_CATEGORY_VIEW, RockerWidgetsCategoryViewClass))
#define ROCKER_WIDGETS_IS_CATEGORY_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_CATEGORY_VIEW))
#define ROCKER_WIDGETS_IS_CATEGORY_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_CATEGORY_VIEW))
#define ROCKER_WIDGETS_CATEGORY_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_CATEGORY_VIEW, RockerWidgetsCategoryViewClass))

typedef struct _RockerWidgetsCategoryView RockerWidgetsCategoryView;
typedef struct _RockerWidgetsCategoryViewClass RockerWidgetsCategoryViewClass;
typedef struct _RockerWidgetsCategoryViewPrivate RockerWidgetsCategoryViewPrivate;

#define ROCKER_WIDGETS_TYPE_SIDEBAR (rocker_widgets_sidebar_get_type ())
#define ROCKER_WIDGETS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_SIDEBAR, RockerWidgetsSidebar))
#define ROCKER_WIDGETS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_SIDEBAR, RockerWidgetsSidebarClass))
#define ROCKER_WIDGETS_IS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_SIDEBAR))
#define ROCKER_WIDGETS_IS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_SIDEBAR))
#define ROCKER_WIDGETS_SIDEBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_SIDEBAR, RockerWidgetsSidebarClass))

typedef struct _RockerWidgetsSidebar RockerWidgetsSidebar;
typedef struct _RockerWidgetsSidebarClass RockerWidgetsSidebarClass;

#define ROCKER_WIDGETS_TYPE_USER_VIEW (rocker_widgets_user_view_get_type ())
#define ROCKER_WIDGETS_USER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserView))
#define ROCKER_WIDGETS_USER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserViewClass))
#define ROCKER_WIDGETS_IS_USER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW))
#define ROCKER_WIDGETS_IS_USER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_USER_VIEW))
#define ROCKER_WIDGETS_USER_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserViewClass))

typedef struct _RockerWidgetsUserView RockerWidgetsUserView;
typedef struct _RockerWidgetsUserViewClass RockerWidgetsUserViewClass;

#define ROCKER_WIDGETS_TYPE_GRID (rocker_widgets_grid_get_type ())
#define ROCKER_WIDGETS_GRID(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGrid))
#define ROCKER_WIDGETS_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGridClass))
#define ROCKER_WIDGETS_IS_GRID(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_GRID))
#define ROCKER_WIDGETS_IS_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_GRID))
#define ROCKER_WIDGETS_GRID_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGridClass))

typedef struct _RockerWidgetsGrid RockerWidgetsGrid;
typedef struct _RockerWidgetsGridClass RockerWidgetsGridClass;

#define ROCKER_TYPE_ROCKER_VIEW (rocker_rocker_view_get_type ())
#define ROCKER_ROCKER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_TYPE_ROCKER_VIEW, RockerRockerView))
#define ROCKER_ROCKER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_TYPE_ROCKER_VIEW, RockerRockerViewClass))
#define ROCKER_IS_ROCKER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_TYPE_ROCKER_VIEW))
#define ROCKER_IS_ROCKER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_TYPE_ROCKER_VIEW))
#define ROCKER_ROCKER_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_TYPE_ROCKER_VIEW, RockerRockerViewClass))

typedef struct _RockerRockerView RockerRockerView;
typedef struct _RockerRockerViewClass RockerRockerViewClass;
enum  {
	ROCKER_WIDGETS_CATEGORY_VIEW_0_PROPERTY,
	ROCKER_WIDGETS_CATEGORY_VIEW_NUM_PROPERTIES
};
static GParamSpec* rocker_widgets_category_view_properties[ROCKER_WIDGETS_CATEGORY_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _RockerRockerViewPrivate RockerRockerViewPrivate;

#define ROCKER_TYPE_SELECTOR (rocker_selector_get_type ())
#define ROCKER_SELECTOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_TYPE_SELECTOR, RockerSelector))
#define ROCKER_SELECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_TYPE_SELECTOR, RockerSelectorClass))
#define ROCKER_IS_SELECTOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_TYPE_SELECTOR))
#define ROCKER_IS_SELECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_TYPE_SELECTOR))
#define ROCKER_SELECTOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_TYPE_SELECTOR, RockerSelectorClass))

typedef struct _RockerSelector RockerSelector;
typedef struct _RockerSelectorClass RockerSelectorClass;

#define ROCKER_BACKEND_TYPE_APP_SYSTEM (rocker_backend_app_system_get_type ())
#define ROCKER_BACKEND_APP_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_BACKEND_TYPE_APP_SYSTEM, RockerBackendAppSystem))
#define ROCKER_BACKEND_APP_SYSTEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_BACKEND_TYPE_APP_SYSTEM, RockerBackendAppSystemClass))
#define ROCKER_BACKEND_IS_APP_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_BACKEND_TYPE_APP_SYSTEM))
#define ROCKER_BACKEND_IS_APP_SYSTEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_BACKEND_TYPE_APP_SYSTEM))
#define ROCKER_BACKEND_APP_SYSTEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_BACKEND_TYPE_APP_SYSTEM, RockerBackendAppSystemClass))

typedef struct _RockerBackendAppSystem RockerBackendAppSystem;
typedef struct _RockerBackendAppSystemClass RockerBackendAppSystemClass;

#define ROCKER_BACKEND_TYPE_APP (rocker_backend_app_get_type ())
#define ROCKER_BACKEND_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_BACKEND_TYPE_APP, RockerBackendApp))
#define ROCKER_BACKEND_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_BACKEND_TYPE_APP, RockerBackendAppClass))
#define ROCKER_BACKEND_IS_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_BACKEND_TYPE_APP))
#define ROCKER_BACKEND_IS_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_BACKEND_TYPE_APP))
#define ROCKER_BACKEND_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_BACKEND_TYPE_APP, RockerBackendAppClass))

typedef struct _RockerBackendApp RockerBackendApp;
typedef struct _RockerBackendAppClass RockerBackendAppClass;

#define ROCKER_WIDGETS_TYPE_APP_ENTRY (rocker_widgets_app_entry_get_type ())
#define ROCKER_WIDGETS_APP_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntry))
#define ROCKER_WIDGETS_APP_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntryClass))
#define ROCKER_WIDGETS_IS_APP_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY))
#define ROCKER_WIDGETS_IS_APP_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_APP_ENTRY))
#define ROCKER_WIDGETS_APP_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntryClass))

typedef struct _RockerWidgetsAppEntry RockerWidgetsAppEntry;
typedef struct _RockerWidgetsAppEntryClass RockerWidgetsAppEntryClass;

struct _RockerWidgetsCategoryView {
	GtkEventBox parent_instance;
	RockerWidgetsCategoryViewPrivate * priv;
	RockerWidgetsSidebar* category_switcher;
	RockerWidgetsUserView* user_view;
	GtkSeparator* separator;
	RockerWidgetsGrid* app_view;
	GeeHashMap* category_ids;
};

struct _RockerWidgetsCategoryViewClass {
	GtkEventBoxClass parent_class;
};

struct _RockerWidgetsCategoryViewPrivate {
	GtkGrid* container;
	RockerRockerView* view;
	gint current_position;
};

struct _RockerRockerView {
	GtkWindow parent_instance;
	RockerRockerViewPrivate * priv;
	GtkSearchEntry* search_entry;
	GtkStack* stack;
	RockerSelector* view_selector;
	GtkGrid* top;
	GtkGrid* container;
	GtkFrame* fcontainer;
	GtkStack* main_stack;
	GtkBox* content_area;
	RockerBackendAppSystem* app_system;
	GeeHashMap* apps;
	GeeArrayList* saved_apps;
	GSList* app_name;
};

struct _RockerRockerViewClass {
	GtkWindowClass parent_class;
};

static gint RockerWidgetsCategoryView_private_offset;
static gpointer rocker_widgets_category_view_parent_class = NULL;
extern gint rocker_pixels_ITEM_SIZE;

GType rocker_widgets_category_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsCategoryView, g_object_unref)
GType rocker_widgets_sidebar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsSidebar, g_object_unref)
GType rocker_widgets_user_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsUserView, g_object_unref)
GType rocker_widgets_grid_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsGrid, g_object_unref)
GType rocker_rocker_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerRockerView, g_object_unref)
#define ROCKER_WIDGETS_CATEGORY_VIEW_ALL_APPLICATIONS _ ("All Applications")
#define ROCKER_WIDGETS_CATEGORY_VIEW_NEW_FILTER _ ("Create a new Filter")
#define ROCKER_WIDGETS_CATEGORY_VIEW_SWITCHBOARD_CATEGORY "switchboard"
RockerWidgetsCategoryView* rocker_widgets_category_view_new (RockerRockerView* parent);
RockerWidgetsCategoryView* rocker_widgets_category_view_construct (GType object_type,
                                                                   RockerRockerView* parent);
RockerWidgetsSidebar* rocker_widgets_sidebar_new (void);
RockerWidgetsSidebar* rocker_widgets_sidebar_construct (GType object_type);
gint rocker_rocker_view_get_rows (RockerRockerView* self);
gint rocker_rocker_view_get_columns (RockerRockerView* self);
RockerWidgetsGrid* rocker_widgets_grid_new (gint rows,
                                            gint columns);
RockerWidgetsGrid* rocker_widgets_grid_construct (GType object_type,
                                                  gint rows,
                                                  gint columns);
RockerWidgetsUserView* rocker_widgets_user_view_new (void);
RockerWidgetsUserView* rocker_widgets_user_view_construct (GType object_type);
static void rocker_widgets_category_view_connect_events (RockerWidgetsCategoryView* self);
void rocker_widgets_category_view_setup_sidebar (RockerWidgetsCategoryView* self);
gint rocker_widgets_sidebar_get_selected (RockerWidgetsSidebar* self);
void rocker_widgets_sidebar_clear (RockerWidgetsSidebar* self);
void rocker_widgets_sidebar_add_category (RockerWidgetsSidebar* self,
                                          const gchar* entry_name);
GType rocker_selector_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerSelector, g_object_unref)
GType rocker_backend_app_system_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerBackendAppSystem, g_object_unref)
GType rocker_backend_app_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerBackendApp, g_object_unref)
void rocker_widgets_grid_resize (RockerWidgetsGrid* self,
                                 gint rows,
                                 gint columns);
void rocker_widgets_sidebar_set_selected (RockerWidgetsSidebar* self,
                                          gint value);
static void __lambda27_ (RockerWidgetsCategoryView* self,
                  const gchar* name,
                  gint nth);
void rocker_rocker_view_reset_category_focus (RockerRockerView* self);
void rocker_rocker_view_set_cat_saved (RockerRockerView* self,
                                       gboolean value);
void rocker_widgets_category_view_show_filtered_apps (RockerWidgetsCategoryView* self,
                                                      const gchar* category);
static void ___lambda27__rocker_widgets_sidebar_selection_changed (RockerWidgetsSidebar* _sender,
                                                            const gchar* entry_name,
                                                            gint nth,
                                                            gpointer self);
static void rocker_widgets_category_view_add_app (RockerWidgetsCategoryView* self,
                                           RockerBackendApp* app);
GType rocker_widgets_app_entry_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsAppEntry, g_object_unref)
RockerWidgetsAppEntry* rocker_widgets_app_entry_new (RockerBackendApp* app);
RockerWidgetsAppEntry* rocker_widgets_app_entry_construct (GType object_type,
                                                           RockerBackendApp* app);
static void __lambda28_ (RockerWidgetsCategoryView* self);
static void ___lambda28__rocker_widgets_app_entry_app_launched (RockerWidgetsAppEntry* _sender,
                                                         gpointer self);
void rocker_widgets_grid_append (RockerWidgetsGrid* self,
                                 GtkWidget* widget);
void rocker_widgets_grid_clear (RockerWidgetsGrid* self);
static void rocker_widgets_category_view_finalize (GObject * obj);
static GType rocker_widgets_category_view_get_type_once (void);

static inline gpointer
rocker_widgets_category_view_get_instance_private (RockerWidgetsCategoryView* self)
{
	return G_STRUCT_MEMBER_P (self, RockerWidgetsCategoryView_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

RockerWidgetsCategoryView*
rocker_widgets_category_view_construct (GType object_type,
                                        RockerRockerView* parent)
{
	RockerWidgetsCategoryView * self = NULL;
	RockerRockerView* _tmp0_;
	GtkGrid* _tmp1_;
	GtkGrid* _tmp2_;
	GtkGrid* _tmp3_;
	GtkGrid* _tmp4_;
	GtkGrid* _tmp5_;
	GtkSeparator* _tmp6_;
	RockerWidgetsSidebar* _tmp7_;
	RockerRockerView* _tmp8_;
	gint _tmp9_;
	gint _tmp10_;
	RockerRockerView* _tmp11_;
	gint _tmp12_;
	gint _tmp13_;
	RockerWidgetsGrid* _tmp14_;
	RockerWidgetsUserView* _tmp15_;
	GtkGrid* _tmp16_;
	RockerWidgetsSidebar* _tmp17_;
	GtkGrid* _tmp18_;
	RockerWidgetsGrid* _tmp19_;
	GtkGrid* _tmp20_;
	g_return_val_if_fail (parent != NULL, NULL);
	self = (RockerWidgetsCategoryView*) g_object_new (object_type, NULL);
	_tmp0_ = _g_object_ref0 (parent);
	_g_object_unref0 (self->priv->view);
	self->priv->view = _tmp0_;
	gtk_event_box_set_visible_window ((GtkEventBox*) self, FALSE);
	gtk_widget_set_hexpand ((GtkWidget*) self, TRUE);
	_tmp1_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->container);
	self->priv->container = _tmp1_;
	_tmp2_ = self->priv->container;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp2_, TRUE);
	_tmp3_ = self->priv->container;
	gtk_grid_set_row_homogeneous (_tmp3_, FALSE);
	_tmp4_ = self->priv->container;
	gtk_grid_set_column_homogeneous (_tmp4_, FALSE);
	_tmp5_ = self->priv->container;
	gtk_orientable_set_orientation ((GtkOrientable*) _tmp5_, GTK_ORIENTATION_HORIZONTAL);
	_tmp6_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_VERTICAL);
	g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->separator);
	self->separator = _tmp6_;
	_tmp7_ = rocker_widgets_sidebar_new ();
	g_object_ref_sink (_tmp7_);
	_g_object_unref0 (self->category_switcher);
	self->category_switcher = _tmp7_;
	_tmp8_ = self->priv->view;
	_tmp9_ = rocker_rocker_view_get_rows (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = self->priv->view;
	_tmp12_ = rocker_rocker_view_get_columns (_tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = rocker_widgets_grid_new (_tmp10_, _tmp13_);
	g_object_ref_sink (_tmp14_);
	_g_object_unref0 (self->app_view);
	self->app_view = _tmp14_;
	_tmp15_ = rocker_widgets_user_view_new ();
	g_object_ref_sink (_tmp15_);
	_g_object_unref0 (self->user_view);
	self->user_view = _tmp15_;
	_tmp16_ = self->priv->container;
	_tmp17_ = self->category_switcher;
	gtk_grid_attach (_tmp16_, (GtkWidget*) _tmp17_, 0, 0, 1, 1);
	_tmp18_ = self->priv->container;
	_tmp19_ = self->app_view;
	gtk_container_add ((GtkContainer*) _tmp18_, (GtkWidget*) _tmp19_);
	_tmp20_ = self->priv->container;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp20_);
	rocker_widgets_category_view_connect_events (self);
	rocker_widgets_category_view_setup_sidebar (self);
	return self;
}

RockerWidgetsCategoryView*
rocker_widgets_category_view_new (RockerRockerView* parent)
{
	return rocker_widgets_category_view_construct (ROCKER_WIDGETS_TYPE_CATEGORY_VIEW, parent);
}

void
rocker_widgets_category_view_setup_sidebar (RockerWidgetsCategoryView* self)
{
	gint old_selected = 0;
	RockerWidgetsSidebar* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	GeeHashMap* _tmp3_;
	RockerWidgetsSidebar* _tmp4_;
	RockerWidgetsGrid* _tmp5_;
	gint n = 0;
	GeeHashMap* _tmp6_;
	gint _tmp7_;
	GeeHashMap* _tmp8_;
	gint _tmp9_;
	RockerWidgetsSidebar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	RockerWidgetsSidebar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	RockerWidgetsSidebar* _tmp34_;
	gint minimum_width = 0;
	RockerWidgetsSidebar* _tmp35_;
	gint _tmp36_ = 0;
	gint removing_columns = 0;
	gint columns = 0;
	RockerRockerView* _tmp38_;
	gint _tmp39_;
	gint _tmp40_;
	RockerWidgetsGrid* _tmp41_;
	RockerRockerView* _tmp42_;
	gint _tmp43_;
	gint _tmp44_;
	RockerWidgetsSidebar* _tmp45_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->category_switcher;
	_tmp1_ = rocker_widgets_sidebar_get_selected (_tmp0_);
	_tmp2_ = _tmp1_;
	old_selected = _tmp2_;
	_tmp3_ = self->category_ids;
	gee_abstract_map_clear ((GeeAbstractMap*) _tmp3_);
	_tmp4_ = self->category_switcher;
	rocker_widgets_sidebar_clear (_tmp4_);
	_tmp5_ = self->app_view;
	gtk_widget_set_size_request ((GtkWidget*) _tmp5_, -1, -1);
	n = 0;
	_tmp6_ = self->category_ids;
	gee_abstract_map_set ((GeeAbstractMap*) _tmp6_, (gpointer) ((gintptr) n), "Saved");
	_tmp7_ = n;
	n = _tmp7_ + 1;
	_tmp8_ = self->category_ids;
	gee_abstract_map_set ((GeeAbstractMap*) _tmp8_, (gpointer) ((gintptr) n), "All");
	_tmp9_ = n;
	n = _tmp9_ + 1;
	_tmp10_ = self->category_switcher;
	_tmp11_ = g_strdup (g_dgettext ("gnome-menus-3.0", "â˜…Saved"));
	_tmp12_ = _tmp11_;
	rocker_widgets_sidebar_add_category (_tmp10_, _tmp12_);
	_g_free0 (_tmp12_);
	_tmp13_ = self->category_switcher;
	_tmp14_ = g_strdup (g_dgettext ("gnome-menus-3.0", "All"));
	_tmp15_ = _tmp14_;
	rocker_widgets_sidebar_add_category (_tmp13_, _tmp15_);
	_g_free0 (_tmp15_);
	{
		GeeIterator* _cat_name_it = NULL;
		RockerRockerView* _tmp16_;
		GeeHashMap* _tmp17_;
		GeeSet* _tmp18_;
		GeeSet* _tmp19_;
		GeeSet* _tmp20_;
		GeeIterator* _tmp21_;
		GeeIterator* _tmp22_;
		_tmp16_ = self->priv->view;
		_tmp17_ = _tmp16_->apps;
		_tmp18_ = gee_abstract_map_get_keys ((GeeAbstractMap*) _tmp17_);
		_tmp19_ = _tmp18_;
		_tmp20_ = _tmp19_;
		_tmp21_ = gee_iterable_iterator ((GeeIterable*) _tmp20_);
		_tmp22_ = _tmp21_;
		_g_object_unref0 (_tmp20_);
		_cat_name_it = _tmp22_;
		while (TRUE) {
			GeeIterator* _tmp23_;
			gchar* cat_name = NULL;
			GeeIterator* _tmp24_;
			gpointer _tmp25_;
			const gchar* _tmp26_;
			GeeHashMap* _tmp27_;
			const gchar* _tmp28_;
			RockerWidgetsSidebar* _tmp29_;
			const gchar* _tmp30_;
			gchar* _tmp31_;
			gchar* _tmp32_;
			gint _tmp33_;
			_tmp23_ = _cat_name_it;
			if (!gee_iterator_next (_tmp23_)) {
				break;
			}
			_tmp24_ = _cat_name_it;
			_tmp25_ = gee_iterator_get (_tmp24_);
			cat_name = (gchar*) _tmp25_;
			_tmp26_ = cat_name;
			if (g_strcmp0 (_tmp26_, ROCKER_WIDGETS_CATEGORY_VIEW_SWITCHBOARD_CATEGORY) == 0) {
				_g_free0 (cat_name);
				continue;
			}
			_tmp27_ = self->category_ids;
			_tmp28_ = cat_name;
			gee_abstract_map_set ((GeeAbstractMap*) _tmp27_, (gpointer) ((gintptr) n), _tmp28_);
			_tmp29_ = self->category_switcher;
			_tmp30_ = cat_name;
			_tmp31_ = g_strdup (g_dgettext ("gnome-menus-3.0", _tmp30_));
			_tmp32_ = _tmp31_;
			rocker_widgets_sidebar_add_category (_tmp29_, _tmp32_);
			_g_free0 (_tmp32_);
			_tmp33_ = n;
			n = _tmp33_ + 1;
			_g_free0 (cat_name);
		}
		_g_object_unref0 (_cat_name_it);
	}
	_tmp34_ = self->category_switcher;
	gtk_widget_show_all ((GtkWidget*) _tmp34_);
	_tmp35_ = self->category_switcher;
	gtk_widget_get_preferred_width ((GtkWidget*) _tmp35_, &_tmp36_, NULL);
	minimum_width = _tmp36_;
	removing_columns = (gint) (((gdouble) minimum_width) / ((gdouble) rocker_pixels_ITEM_SIZE));
	if ((minimum_width % rocker_pixels_ITEM_SIZE) != 0) {
		gint _tmp37_;
		_tmp37_ = removing_columns;
		removing_columns = _tmp37_ + 1;
	}
	_tmp38_ = self->priv->view;
	_tmp39_ = rocker_rocker_view_get_columns (_tmp38_);
	_tmp40_ = _tmp39_;
	columns = _tmp40_ - removing_columns;
	_tmp41_ = self->app_view;
	_tmp42_ = self->priv->view;
	_tmp43_ = rocker_rocker_view_get_rows (_tmp42_);
	_tmp44_ = _tmp43_;
	rocker_widgets_grid_resize (_tmp41_, _tmp44_, columns);
	_tmp45_ = self->category_switcher;
	rocker_widgets_sidebar_set_selected (_tmp45_, old_selected);
}

static void
__lambda27_ (RockerWidgetsCategoryView* self,
             const gchar* name,
             gint nth)
{
	RockerRockerView* _tmp0_;
	gchar* category = NULL;
	GeeHashMap* _tmp1_;
	gpointer _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp6_;
	g_return_if_fail (name != NULL);
	_tmp0_ = self->priv->view;
	rocker_rocker_view_reset_category_focus (_tmp0_);
	_tmp1_ = self->category_ids;
	_tmp2_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp1_, (gpointer) ((gintptr) nth));
	category = (gchar*) _tmp2_;
	_tmp3_ = category;
	if (g_strcmp0 (_tmp3_, "Saved") == 0) {
		RockerRockerView* _tmp4_;
		_tmp4_ = self->priv->view;
		rocker_rocker_view_set_cat_saved (_tmp4_, TRUE);
	} else {
		RockerRockerView* _tmp5_;
		_tmp5_ = self->priv->view;
		rocker_rocker_view_set_cat_saved (_tmp5_, FALSE);
	}
	_tmp6_ = category;
	rocker_widgets_category_view_show_filtered_apps (self, _tmp6_);
	_g_free0 (category);
}

static void
___lambda27__rocker_widgets_sidebar_selection_changed (RockerWidgetsSidebar* _sender,
                                                       const gchar* entry_name,
                                                       gint nth,
                                                       gpointer self)
{
	__lambda27_ ((RockerWidgetsCategoryView*) self, entry_name, nth);
}

static void
rocker_widgets_category_view_connect_events (RockerWidgetsCategoryView* self)
{
	RockerWidgetsSidebar* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->category_switcher;
	g_signal_connect_object (_tmp0_, "selection-changed", (GCallback) ___lambda27__rocker_widgets_sidebar_selection_changed, self, 0);
}

static void
__lambda28_ (RockerWidgetsCategoryView* self)
{
	RockerRockerView* _tmp0_;
	_tmp0_ = self->priv->view;
	gtk_widget_hide ((GtkWidget*) _tmp0_);
	g_print ("hide10\n");
}

static void
___lambda28__rocker_widgets_app_entry_app_launched (RockerWidgetsAppEntry* _sender,
                                                    gpointer self)
{
	__lambda28_ ((RockerWidgetsCategoryView*) self);
}

static void
rocker_widgets_category_view_add_app (RockerWidgetsCategoryView* self,
                                      RockerBackendApp* app)
{
	RockerWidgetsAppEntry* app_entry = NULL;
	RockerWidgetsAppEntry* _tmp0_;
	RockerWidgetsGrid* _tmp1_;
	RockerWidgetsGrid* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (app != NULL);
	_tmp0_ = rocker_widgets_app_entry_new (app);
	g_object_ref_sink (_tmp0_);
	app_entry = _tmp0_;
	g_signal_connect_object (app_entry, "app-launched", (GCallback) ___lambda28__rocker_widgets_app_entry_app_launched, self, 0);
	_tmp1_ = self->app_view;
	rocker_widgets_grid_append (_tmp1_, (GtkWidget*) app_entry);
	_tmp2_ = self->app_view;
	gtk_widget_show_all ((GtkWidget*) _tmp2_);
	_g_object_unref0 (app_entry);
}

void
rocker_widgets_category_view_show_filtered_apps (RockerWidgetsCategoryView* self,
                                                 const gchar* category)
{
	RockerWidgetsGrid* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (category != NULL);
	_tmp0_ = self->app_view;
	rocker_widgets_grid_clear (_tmp0_);
	if (g_strcmp0 (category, "All") == 0) {
		RockerRockerView* _tmp1_;
		GSList* _tmp2_;
		_tmp1_ = self->priv->view;
		_tmp2_ = _tmp1_->app_name;
		{
			GSList* app_collection = NULL;
			GSList* app_it = NULL;
			app_collection = _tmp2_;
			for (app_it = app_collection; app_it != NULL; app_it = app_it->next) {
				RockerBackendApp* _tmp3_;
				RockerBackendApp* app = NULL;
				_tmp3_ = _g_object_ref0 ((RockerBackendApp*) app_it->data);
				app = _tmp3_;
				{
					RockerBackendApp* _tmp4_;
					_tmp4_ = app;
					rocker_widgets_category_view_add_app (self, _tmp4_);
					_g_object_unref0 (app);
				}
			}
		}
	} else {
		if (g_strcmp0 (category, "Saved") == 0) {
			{
				GeeArrayList* _app_list = NULL;
				RockerRockerView* _tmp5_;
				GeeArrayList* _tmp6_;
				GeeArrayList* _tmp7_;
				gint _app_size = 0;
				GeeArrayList* _tmp8_;
				gint _tmp9_;
				gint _tmp10_;
				gint _app_index = 0;
				_tmp5_ = self->priv->view;
				_tmp6_ = _tmp5_->saved_apps;
				_tmp7_ = _g_object_ref0 (_tmp6_);
				_app_list = _tmp7_;
				_tmp8_ = _app_list;
				_tmp9_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp8_);
				_tmp10_ = _tmp9_;
				_app_size = _tmp10_;
				_app_index = -1;
				while (TRUE) {
					gint _tmp11_;
					gint _tmp12_;
					RockerBackendApp* app = NULL;
					GeeArrayList* _tmp13_;
					gpointer _tmp14_;
					RockerBackendApp* _tmp15_;
					_app_index = _app_index + 1;
					_tmp11_ = _app_index;
					_tmp12_ = _app_size;
					if (!(_tmp11_ < _tmp12_)) {
						break;
					}
					_tmp13_ = _app_list;
					_tmp14_ = gee_abstract_list_get ((GeeAbstractList*) _tmp13_, _app_index);
					app = (RockerBackendApp*) _tmp14_;
					_tmp15_ = app;
					rocker_widgets_category_view_add_app (self, _tmp15_);
					_g_object_unref0 (app);
				}
				_g_object_unref0 (_app_list);
			}
		} else {
			{
				GeeArrayList* _app_list = NULL;
				RockerRockerView* _tmp16_;
				GeeHashMap* _tmp17_;
				gpointer _tmp18_;
				gint _app_size = 0;
				GeeArrayList* _tmp19_;
				gint _tmp20_;
				gint _tmp21_;
				gint _app_index = 0;
				_tmp16_ = self->priv->view;
				_tmp17_ = _tmp16_->apps;
				_tmp18_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp17_, category);
				_app_list = (GeeArrayList*) _tmp18_;
				_tmp19_ = _app_list;
				_tmp20_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp19_);
				_tmp21_ = _tmp20_;
				_app_size = _tmp21_;
				_app_index = -1;
				while (TRUE) {
					gint _tmp22_;
					gint _tmp23_;
					RockerBackendApp* app = NULL;
					GeeArrayList* _tmp24_;
					gpointer _tmp25_;
					RockerBackendApp* _tmp26_;
					_app_index = _app_index + 1;
					_tmp22_ = _app_index;
					_tmp23_ = _app_size;
					if (!(_tmp22_ < _tmp23_)) {
						break;
					}
					_tmp24_ = _app_list;
					_tmp25_ = gee_abstract_list_get ((GeeAbstractList*) _tmp24_, _app_index);
					app = (RockerBackendApp*) _tmp25_;
					_tmp26_ = app;
					rocker_widgets_category_view_add_app (self, _tmp26_);
					_g_object_unref0 (app);
				}
				_g_object_unref0 (_app_list);
			}
		}
	}
	self->priv->current_position = 0;
}

static void
rocker_widgets_category_view_class_init (RockerWidgetsCategoryViewClass * klass,
                                         gpointer klass_data)
{
	rocker_widgets_category_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &RockerWidgetsCategoryView_private_offset);
	G_OBJECT_CLASS (klass)->finalize = rocker_widgets_category_view_finalize;
}

static void
rocker_widgets_category_view_instance_init (RockerWidgetsCategoryView * self,
                                            gpointer klass)
{
	GeeHashMap* _tmp0_;
	self->priv = rocker_widgets_category_view_get_instance_private (self);
	self->priv->current_position = 0;
	_tmp0_ = gee_hash_map_new (G_TYPE_INT, NULL, NULL, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	self->category_ids = _tmp0_;
}

static void
rocker_widgets_category_view_finalize (GObject * obj)
{
	RockerWidgetsCategoryView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ROCKER_WIDGETS_TYPE_CATEGORY_VIEW, RockerWidgetsCategoryView);
	_g_object_unref0 (self->priv->container);
	_g_object_unref0 (self->category_switcher);
	_g_object_unref0 (self->user_view);
	_g_object_unref0 (self->separator);
	_g_object_unref0 (self->app_view);
	_g_object_unref0 (self->priv->view);
	_g_object_unref0 (self->category_ids);
	G_OBJECT_CLASS (rocker_widgets_category_view_parent_class)->finalize (obj);
}

static GType
rocker_widgets_category_view_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (RockerWidgetsCategoryViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) rocker_widgets_category_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (RockerWidgetsCategoryView), 0, (GInstanceInitFunc) rocker_widgets_category_view_instance_init, NULL };
	GType rocker_widgets_category_view_type_id;
	rocker_widgets_category_view_type_id = g_type_register_static (gtk_event_box_get_type (), "RockerWidgetsCategoryView", &g_define_type_info, 0);
	RockerWidgetsCategoryView_private_offset = g_type_add_instance_private (rocker_widgets_category_view_type_id, sizeof (RockerWidgetsCategoryViewPrivate));
	return rocker_widgets_category_view_type_id;
}

GType
rocker_widgets_category_view_get_type (void)
{
	static volatile gsize rocker_widgets_category_view_type_id__volatile = 0;
	if (g_once_init_enter (&rocker_widgets_category_view_type_id__volatile)) {
		GType rocker_widgets_category_view_type_id;
		rocker_widgets_category_view_type_id = rocker_widgets_category_view_get_type_once ();
		g_once_init_leave (&rocker_widgets_category_view_type_id__volatile, rocker_widgets_category_view_type_id);
	}
	return rocker_widgets_category_view_type_id__volatile;
}

