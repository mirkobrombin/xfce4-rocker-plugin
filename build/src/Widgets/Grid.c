/* Grid.c generated by valac 0.50.1, the Vala compiler
 * generated from Grid.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/**/
/*  Copyright (C) 2011-2012 Giulio Collura*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib-object.h>
#include <glib.h>
#include <string.h>
#include <gtk/gtk.h>
#include <gee.h>
#include <stdlib.h>

#define ROCKER_WIDGETS_TYPE_PAGE (rocker_widgets_page_get_type ())
typedef struct _RockerWidgetsPage RockerWidgetsPage;

#define ROCKER_WIDGETS_TYPE_GRID (rocker_widgets_grid_get_type ())
#define ROCKER_WIDGETS_GRID(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGrid))
#define ROCKER_WIDGETS_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGridClass))
#define ROCKER_WIDGETS_IS_GRID(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_GRID))
#define ROCKER_WIDGETS_IS_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_GRID))
#define ROCKER_WIDGETS_GRID_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGridClass))

typedef struct _RockerWidgetsGrid RockerWidgetsGrid;
typedef struct _RockerWidgetsGridClass RockerWidgetsGridClass;
typedef struct _RockerWidgetsGridPrivate RockerWidgetsGridPrivate;

#define ROCKER_WIDGETS_TYPE_SWITCHER (rocker_widgets_switcher_get_type ())
#define ROCKER_WIDGETS_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_SWITCHER, RockerWidgetsSwitcher))
#define ROCKER_WIDGETS_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_SWITCHER, RockerWidgetsSwitcherClass))
#define ROCKER_WIDGETS_IS_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_SWITCHER))
#define ROCKER_WIDGETS_IS_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_SWITCHER))
#define ROCKER_WIDGETS_SWITCHER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_SWITCHER, RockerWidgetsSwitcherClass))

typedef struct _RockerWidgetsSwitcher RockerWidgetsSwitcher;
typedef struct _RockerWidgetsSwitcherClass RockerWidgetsSwitcherClass;
enum  {
	ROCKER_WIDGETS_GRID_0_PROPERTY,
	ROCKER_WIDGETS_GRID_NUM_PROPERTIES
};
static GParamSpec* rocker_widgets_grid_properties[ROCKER_WIDGETS_GRID_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define ROCKER_WIDGETS_TYPE_APP_ENTRY (rocker_widgets_app_entry_get_type ())
#define ROCKER_WIDGETS_APP_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntry))
#define ROCKER_WIDGETS_APP_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntryClass))
#define ROCKER_WIDGETS_IS_APP_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY))
#define ROCKER_WIDGETS_IS_APP_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_APP_ENTRY))
#define ROCKER_WIDGETS_APP_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_APP_ENTRY, RockerWidgetsAppEntryClass))

typedef struct _RockerWidgetsAppEntry RockerWidgetsAppEntry;
typedef struct _RockerWidgetsAppEntryClass RockerWidgetsAppEntryClass;

struct _RockerWidgetsPage {
	guint rows;
	guint columns;
	gint number;
};

struct _RockerWidgetsGrid {
	GtkBox parent_instance;
	RockerWidgetsGridPrivate * priv;
	RockerWidgetsSwitcher* page_switcher;
};

struct _RockerWidgetsGridClass {
	GtkBoxClass parent_class;
};

struct _RockerWidgetsGridPrivate {
	GtkStack* stack;
	GtkGrid* current_grid;
	GeeHashMap* grids;
	guint current_row;
	guint current_col;
	RockerWidgetsPage page;
};

static gint RockerWidgetsGrid_private_offset;
static gpointer rocker_widgets_grid_parent_class = NULL;

GType rocker_widgets_page_get_type (void) G_GNUC_CONST;
RockerWidgetsPage* rocker_widgets_page_dup (const RockerWidgetsPage* self);
void rocker_widgets_page_free (RockerWidgetsPage* self);
GType rocker_widgets_grid_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsGrid, g_object_unref)
GType rocker_widgets_switcher_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsSwitcher, g_object_unref)
RockerWidgetsGrid* rocker_widgets_grid_new (gint rows,
                                            gint columns);
RockerWidgetsGrid* rocker_widgets_grid_construct (GType object_type,
                                                  gint rows,
                                                  gint columns);
RockerWidgetsSwitcher* rocker_widgets_switcher_new (void);
RockerWidgetsSwitcher* rocker_widgets_switcher_construct (GType object_type);
void rocker_widgets_switcher_set_stack (RockerWidgetsSwitcher* self,
                                        GtkStack* stack);
static void rocker_widgets_grid_create_new_grid (RockerWidgetsGrid* self);
void rocker_widgets_grid_go_to_number (RockerWidgetsGrid* self,
                                       gint number);
#define ROCKER_PIXELS_ROW_SPACING 10
void rocker_widgets_grid_append (RockerWidgetsGrid* self,
                                 GtkWidget* widget);
static void rocker_widgets_grid_update_position (RockerWidgetsGrid* self);
void rocker_widgets_grid_clear (RockerWidgetsGrid* self);
GtkWidget* rocker_widgets_grid_get_child_at (RockerWidgetsGrid* self,
                                             gint column,
                                             gint row);
GType rocker_widgets_app_entry_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsAppEntry, g_object_unref)
gint rocker_widgets_grid_get_page_columns (RockerWidgetsGrid* self);
gint rocker_widgets_grid_get_page_rows (RockerWidgetsGrid* self);
gint rocker_widgets_grid_get_n_pages (RockerWidgetsGrid* self);
gint rocker_widgets_grid_get_current_page (RockerWidgetsGrid* self);
void rocker_widgets_grid_go_to_next (RockerWidgetsGrid* self);
void rocker_widgets_switcher_update_selected (RockerWidgetsSwitcher* self);
void rocker_widgets_grid_go_to_previous (RockerWidgetsGrid* self);
void rocker_widgets_grid_go_to_last (RockerWidgetsGrid* self);
void rocker_widgets_grid_resize (RockerWidgetsGrid* self,
                                 gint rows,
                                 gint columns);
static void rocker_widgets_grid_finalize (GObject * obj);
static GType rocker_widgets_grid_get_type_once (void);

RockerWidgetsPage*
rocker_widgets_page_dup (const RockerWidgetsPage* self)
{
	RockerWidgetsPage* dup;
	dup = g_new0 (RockerWidgetsPage, 1);
	memcpy (dup, self, sizeof (RockerWidgetsPage));
	return dup;
}

void
rocker_widgets_page_free (RockerWidgetsPage* self)
{
	g_free (self);
}

static GType
rocker_widgets_page_get_type_once (void)
{
	GType rocker_widgets_page_type_id;
	rocker_widgets_page_type_id = g_boxed_type_register_static ("RockerWidgetsPage", (GBoxedCopyFunc) rocker_widgets_page_dup, (GBoxedFreeFunc) rocker_widgets_page_free);
	return rocker_widgets_page_type_id;
}

GType
rocker_widgets_page_get_type (void)
{
	static volatile gsize rocker_widgets_page_type_id__volatile = 0;
	if (g_once_init_enter (&rocker_widgets_page_type_id__volatile)) {
		GType rocker_widgets_page_type_id;
		rocker_widgets_page_type_id = rocker_widgets_page_get_type_once ();
		g_once_init_leave (&rocker_widgets_page_type_id__volatile, rocker_widgets_page_type_id);
	}
	return rocker_widgets_page_type_id__volatile;
}

static inline gpointer
rocker_widgets_grid_get_instance_private (RockerWidgetsGrid* self)
{
	return G_STRUCT_MEMBER_P (self, RockerWidgetsGrid_private_offset);
}

RockerWidgetsGrid*
rocker_widgets_grid_construct (GType object_type,
                               gint rows,
                               gint columns)
{
	RockerWidgetsGrid * self = NULL;
	GtkGrid* main_grid = NULL;
	GtkGrid* _tmp0_;
	GtkStack* _tmp1_;
	GtkStack* _tmp2_;
	GtkStack* _tmp3_;
	RockerWidgetsSwitcher* _tmp4_;
	RockerWidgetsSwitcher* _tmp5_;
	GtkStack* _tmp6_;
	GtkGrid* fake_grid = NULL;
	GtkGrid* _tmp7_;
	GtkStack* _tmp8_;
	RockerWidgetsSwitcher* _tmp9_;
	GeeHashMap* _tmp10_;
	self = (RockerWidgetsGrid*) g_object_new (object_type, NULL);
	self->priv->page.rows = (guint) rows;
	self->priv->page.columns = (guint) columns;
	self->priv->page.number = 1;
	_tmp0_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp0_);
	main_grid = _tmp0_;
	gtk_orientable_set_orientation ((GtkOrientable*) main_grid, GTK_ORIENTATION_VERTICAL);
	gtk_grid_set_row_spacing (main_grid, 30);
	gtk_widget_set_margin_bottom ((GtkWidget*) main_grid, 12);
	_tmp1_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->stack);
	self->priv->stack = _tmp1_;
	_tmp2_ = self->priv->stack;
	g_object_set ((GtkWidget*) _tmp2_, "expand", FALSE, NULL);
	_tmp3_ = self->priv->stack;
	gtk_stack_set_transition_type (_tmp3_, GTK_STACK_TRANSITION_TYPE_SLIDE_LEFT_RIGHT);
	_tmp4_ = rocker_widgets_switcher_new ();
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->page_switcher);
	self->page_switcher = _tmp4_;
	_tmp5_ = self->page_switcher;
	_tmp6_ = self->priv->stack;
	rocker_widgets_switcher_set_stack (_tmp5_, _tmp6_);
	_tmp7_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp7_);
	fake_grid = _tmp7_;
	g_object_set ((GtkWidget*) fake_grid, "expand", TRUE, NULL);
	_tmp8_ = self->priv->stack;
	gtk_container_add ((GtkContainer*) main_grid, (GtkWidget*) _tmp8_);
	gtk_container_add ((GtkContainer*) main_grid, (GtkWidget*) fake_grid);
	_tmp9_ = self->page_switcher;
	gtk_container_add ((GtkContainer*) main_grid, (GtkWidget*) _tmp9_);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) main_grid);
	_tmp10_ = gee_hash_map_new (G_TYPE_INT, NULL, NULL, gtk_grid_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->grids);
	self->priv->grids = _tmp10_;
	rocker_widgets_grid_create_new_grid (self);
	rocker_widgets_grid_go_to_number (self, 1);
	_g_object_unref0 (fake_grid);
	_g_object_unref0 (main_grid);
	return self;
}

RockerWidgetsGrid*
rocker_widgets_grid_new (gint rows,
                         gint columns)
{
	return rocker_widgets_grid_construct (ROCKER_WIDGETS_TYPE_GRID, rows, columns);
}

static void
rocker_widgets_grid_create_new_grid (RockerWidgetsGrid* self)
{
	GtkGrid* _tmp0_;
	GtkGrid* _tmp1_;
	GtkGrid* _tmp2_;
	GtkGrid* _tmp3_;
	GtkGrid* _tmp4_;
	GtkGrid* _tmp5_;
	GtkGrid* _tmp6_;
	GtkGrid* _tmp7_;
	GeeHashMap* _tmp8_;
	RockerWidgetsPage _tmp9_;
	GtkGrid* _tmp10_;
	GtkStack* _tmp11_;
	GtkGrid* _tmp12_;
	RockerWidgetsPage _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	RockerWidgetsPage _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	GtkGrid* _tmp19_;
	GtkGrid* _tmp20_;
	GtkGrid* _tmp21_;
	RockerWidgetsPage _tmp22_;
	RockerWidgetsPage _tmp23_;
	g_return_if_fail (self != NULL);
	_tmp0_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->current_grid);
	self->priv->current_grid = _tmp0_;
	_tmp1_ = self->priv->current_grid;
	g_object_set ((GtkWidget*) _tmp1_, "expand", FALSE, NULL);
	_tmp2_ = self->priv->current_grid;
	gtk_grid_set_row_homogeneous (_tmp2_, FALSE);
	_tmp3_ = self->priv->current_grid;
	gtk_grid_set_column_homogeneous (_tmp3_, FALSE);
	_tmp4_ = self->priv->current_grid;
	gtk_widget_set_margin_start ((GtkWidget*) _tmp4_, 12);
	_tmp5_ = self->priv->current_grid;
	gtk_widget_set_margin_end ((GtkWidget*) _tmp5_, 12);
	_tmp6_ = self->priv->current_grid;
	gtk_grid_set_row_spacing (_tmp6_, ROCKER_PIXELS_ROW_SPACING);
	_tmp7_ = self->priv->current_grid;
	gtk_grid_set_column_spacing (_tmp7_, 0);
	_tmp8_ = self->priv->grids;
	_tmp9_ = self->priv->page;
	_tmp10_ = self->priv->current_grid;
	gee_abstract_map_set ((GeeAbstractMap*) _tmp8_, (gpointer) ((gintptr) _tmp9_.number), _tmp10_);
	_tmp11_ = self->priv->stack;
	_tmp12_ = self->priv->current_grid;
	_tmp13_ = self->priv->page;
	_tmp14_ = g_strdup_printf ("%i", _tmp13_.number);
	_tmp15_ = _tmp14_;
	_tmp16_ = self->priv->page;
	_tmp17_ = g_strdup_printf ("%i", _tmp16_.number);
	_tmp18_ = _tmp17_;
	gtk_stack_add_titled (_tmp11_, (GtkWidget*) _tmp12_, _tmp15_, _tmp18_);
	_g_free0 (_tmp18_);
	_g_free0 (_tmp15_);
	_tmp19_ = self->priv->current_grid;
	_tmp20_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp20_);
	_tmp21_ = _tmp20_;
	_tmp22_ = self->priv->page;
	_tmp23_ = self->priv->page;
	gtk_grid_attach (_tmp19_, (GtkWidget*) _tmp21_, 0, 0, (gint) _tmp22_.columns, (gint) _tmp23_.rows);
	_g_object_unref0 (_tmp21_);
}

void
rocker_widgets_grid_append (RockerWidgetsGrid* self,
                            GtkWidget* widget)
{
	GtkGrid* _tmp0_;
	guint _tmp1_;
	GtkGrid* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (widget != NULL);
	rocker_widgets_grid_update_position (self);
	_tmp0_ = self->priv->current_grid;
	gtk_grid_attach (_tmp0_, widget, (gint) self->priv->current_col, (gint) self->priv->current_row, 1, 1);
	_tmp1_ = self->priv->current_col;
	self->priv->current_col = _tmp1_ + 1;
	_tmp2_ = self->priv->current_grid;
	gtk_widget_show ((GtkWidget*) _tmp2_);
}

static void
rocker_widgets_grid_update_position (RockerWidgetsGrid* self)
{
	RockerWidgetsPage _tmp0_;
	RockerWidgetsPage _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->page;
	if (self->priv->current_col == _tmp0_.columns) {
		guint _tmp1_;
		self->priv->current_col = (guint) 0;
		_tmp1_ = self->priv->current_row;
		self->priv->current_row = _tmp1_ + 1;
	}
	_tmp2_ = self->priv->page;
	if (self->priv->current_row == _tmp2_.rows) {
		gint _tmp3_;
		_tmp3_ = self->priv->page.number;
		self->priv->page.number = _tmp3_ + 1;
		rocker_widgets_grid_create_new_grid (self);
		self->priv->current_row = (guint) 0;
	}
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

void
rocker_widgets_grid_clear (RockerWidgetsGrid* self)
{
	GeeHashMap* _tmp14_;
	GtkStack* _tmp15_;
	GtkGrid* _tmp16_;
	g_return_if_fail (self != NULL);
	{
		GeeIterator* _grid_it = NULL;
		GeeHashMap* _tmp0_;
		GeeCollection* _tmp1_;
		GeeCollection* _tmp2_;
		GeeCollection* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
		_tmp0_ = self->priv->grids;
		_tmp1_ = gee_abstract_map_get_values ((GeeAbstractMap*) _tmp0_);
		_tmp2_ = _tmp1_;
		_tmp3_ = _tmp2_;
		_tmp4_ = gee_iterable_iterator ((GeeIterable*) _tmp3_);
		_tmp5_ = _tmp4_;
		_g_object_unref0 (_tmp3_);
		_grid_it = _tmp5_;
		while (TRUE) {
			GeeIterator* _tmp6_;
			GtkGrid* grid = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			GtkGrid* _tmp9_;
			GList* _tmp10_;
			GtkGrid* _tmp13_;
			_tmp6_ = _grid_it;
			if (!gee_iterator_next (_tmp6_)) {
				break;
			}
			_tmp7_ = _grid_it;
			_tmp8_ = gee_iterator_get (_tmp7_);
			grid = (GtkGrid*) _tmp8_;
			_tmp9_ = grid;
			_tmp10_ = gtk_container_get_children ((GtkContainer*) _tmp9_);
			{
				GList* widget_collection = NULL;
				GList* widget_it = NULL;
				widget_collection = _tmp10_;
				for (widget_it = widget_collection; widget_it != NULL; widget_it = widget_it->next) {
					GtkWidget* _tmp11_;
					GtkWidget* widget = NULL;
					_tmp11_ = _g_object_ref0 ((GtkWidget*) widget_it->data);
					widget = _tmp11_;
					{
						GtkWidget* _tmp12_;
						_tmp12_ = widget;
						gtk_widget_destroy (_tmp12_);
						_g_object_unref0 (widget);
					}
				}
				(widget_collection == NULL) ? NULL : (widget_collection = (g_list_free (widget_collection), NULL));
			}
			_tmp13_ = grid;
			gtk_widget_destroy ((GtkWidget*) _tmp13_);
			_g_object_unref0 (grid);
		}
		_g_object_unref0 (_grid_it);
	}
	_tmp14_ = self->priv->grids;
	gee_abstract_map_clear ((GeeAbstractMap*) _tmp14_);
	self->priv->current_row = (guint) 0;
	self->priv->current_col = (guint) 0;
	self->priv->page.number = 1;
	rocker_widgets_grid_create_new_grid (self);
	_tmp15_ = self->priv->stack;
	_tmp16_ = self->priv->current_grid;
	gtk_stack_set_visible_child (_tmp15_, (GtkWidget*) _tmp16_);
}

GtkWidget*
rocker_widgets_grid_get_child_at (RockerWidgetsGrid* self,
                                  gint column,
                                  gint row)
{
	gint col = 0;
	RockerWidgetsPage _tmp0_;
	GtkGrid* grid = NULL;
	GeeHashMap* _tmp1_;
	gpointer _tmp2_;
	GtkGrid* _tmp3_;
	GtkWidget* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->page;
	col = ((gint) (column / _tmp0_.columns)) + 1;
	_tmp1_ = self->priv->grids;
	_tmp2_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp1_, (gpointer) ((gintptr) col));
	grid = (GtkGrid*) _tmp2_;
	_tmp3_ = grid;
	if (_tmp3_ != NULL) {
		GtkGrid* _tmp4_;
		RockerWidgetsPage _tmp5_;
		GtkWidget* _tmp6_;
		GtkWidget* _tmp7_;
		_tmp4_ = grid;
		_tmp5_ = self->priv->page;
		_tmp6_ = gtk_grid_get_child_at (_tmp4_, column - (((gint) _tmp5_.columns) * (col - 1)), row);
		_tmp7_ = _g_object_ref0 ((GtkWidget*) (ROCKER_WIDGETS_IS_APP_ENTRY (_tmp6_) ? ((RockerWidgetsAppEntry*) _tmp6_) : NULL));
		result = _tmp7_;
		_g_object_unref0 (grid);
		return result;
	} else {
		result = NULL;
		_g_object_unref0 (grid);
		return result;
	}
	_g_object_unref0 (grid);
}

gint
rocker_widgets_grid_get_page_columns (RockerWidgetsGrid* self)
{
	RockerWidgetsPage _tmp0_;
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->page;
	result = (gint) _tmp0_.columns;
	return result;
}

gint
rocker_widgets_grid_get_page_rows (RockerWidgetsGrid* self)
{
	RockerWidgetsPage _tmp0_;
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->page;
	result = (gint) _tmp0_.rows;
	return result;
}

gint
rocker_widgets_grid_get_n_pages (RockerWidgetsGrid* self)
{
	RockerWidgetsPage _tmp0_;
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->page;
	result = (gint) _tmp0_.number;
	return result;
}

gint
rocker_widgets_grid_get_current_page (RockerWidgetsGrid* self)
{
	GtkStack* _tmp0_;
	const gchar* _tmp1_;
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->stack;
	_tmp1_ = gtk_stack_get_visible_child_name (_tmp0_);
	result = atoi (_tmp1_);
	return result;
}

void
rocker_widgets_grid_go_to_next (RockerWidgetsGrid* self)
{
	gint page_number = 0;
	RockerWidgetsSwitcher* _tmp3_;
	g_return_if_fail (self != NULL);
	page_number = rocker_widgets_grid_get_current_page (self) + 1;
	if (page_number <= rocker_widgets_grid_get_n_pages (self)) {
		GtkStack* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		_tmp0_ = self->priv->stack;
		_tmp1_ = g_strdup_printf ("%i", page_number);
		_tmp2_ = _tmp1_;
		gtk_stack_set_visible_child_name (_tmp0_, _tmp2_);
		_g_free0 (_tmp2_);
	}
	_tmp3_ = self->page_switcher;
	rocker_widgets_switcher_update_selected (_tmp3_);
}

void
rocker_widgets_grid_go_to_previous (RockerWidgetsGrid* self)
{
	gint page_number = 0;
	RockerWidgetsSwitcher* _tmp3_;
	g_return_if_fail (self != NULL);
	page_number = rocker_widgets_grid_get_current_page (self) - 1;
	if (page_number > 0) {
		GtkStack* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		_tmp0_ = self->priv->stack;
		_tmp1_ = g_strdup_printf ("%i", page_number);
		_tmp2_ = _tmp1_;
		gtk_stack_set_visible_child_name (_tmp0_, _tmp2_);
		_g_free0 (_tmp2_);
	}
	_tmp3_ = self->page_switcher;
	rocker_widgets_switcher_update_selected (_tmp3_);
}

void
rocker_widgets_grid_go_to_last (RockerWidgetsGrid* self)
{
	GtkStack* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	RockerWidgetsSwitcher* _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->stack;
	_tmp1_ = g_strdup_printf ("%i", rocker_widgets_grid_get_n_pages (self));
	_tmp2_ = _tmp1_;
	gtk_stack_set_visible_child_name (_tmp0_, _tmp2_);
	_g_free0 (_tmp2_);
	_tmp3_ = self->page_switcher;
	rocker_widgets_switcher_update_selected (_tmp3_);
}

void
rocker_widgets_grid_go_to_number (RockerWidgetsGrid* self,
                                  gint number)
{
	GtkStack* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	RockerWidgetsSwitcher* _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->stack;
	_tmp1_ = g_strdup_printf ("%i", number);
	_tmp2_ = _tmp1_;
	gtk_stack_set_visible_child_name (_tmp0_, _tmp2_);
	_g_free0 (_tmp2_);
	_tmp3_ = self->page_switcher;
	rocker_widgets_switcher_update_selected (_tmp3_);
}

void
rocker_widgets_grid_resize (RockerWidgetsGrid* self,
                            gint rows,
                            gint columns)
{
	g_return_if_fail (self != NULL);
	rocker_widgets_grid_clear (self);
	self->priv->page.rows = (guint) rows;
	self->priv->page.columns = (guint) columns;
	self->priv->page.number = 1;
}

static void
rocker_widgets_grid_class_init (RockerWidgetsGridClass * klass,
                                gpointer klass_data)
{
	rocker_widgets_grid_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &RockerWidgetsGrid_private_offset);
	G_OBJECT_CLASS (klass)->finalize = rocker_widgets_grid_finalize;
}

static void
rocker_widgets_grid_instance_init (RockerWidgetsGrid * self,
                                   gpointer klass)
{
	self->priv = rocker_widgets_grid_get_instance_private (self);
	self->priv->current_row = (guint) 0;
	self->priv->current_col = (guint) 0;
}

static void
rocker_widgets_grid_finalize (GObject * obj)
{
	RockerWidgetsGrid * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ROCKER_WIDGETS_TYPE_GRID, RockerWidgetsGrid);
	_g_object_unref0 (self->page_switcher);
	_g_object_unref0 (self->priv->stack);
	_g_object_unref0 (self->priv->current_grid);
	_g_object_unref0 (self->priv->grids);
	G_OBJECT_CLASS (rocker_widgets_grid_parent_class)->finalize (obj);
}

static GType
rocker_widgets_grid_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (RockerWidgetsGridClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) rocker_widgets_grid_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (RockerWidgetsGrid), 0, (GInstanceInitFunc) rocker_widgets_grid_instance_init, NULL };
	GType rocker_widgets_grid_type_id;
	rocker_widgets_grid_type_id = g_type_register_static (gtk_box_get_type (), "RockerWidgetsGrid", &g_define_type_info, 0);
	RockerWidgetsGrid_private_offset = g_type_add_instance_private (rocker_widgets_grid_type_id, sizeof (RockerWidgetsGridPrivate));
	return rocker_widgets_grid_type_id;
}

GType
rocker_widgets_grid_get_type (void)
{
	static volatile gsize rocker_widgets_grid_type_id__volatile = 0;
	if (g_once_init_enter (&rocker_widgets_grid_type_id__volatile)) {
		GType rocker_widgets_grid_type_id;
		rocker_widgets_grid_type_id = rocker_widgets_grid_get_type_once ();
		g_once_init_leave (&rocker_widgets_grid_type_id__volatile, rocker_widgets_grid_type_id);
	}
	return rocker_widgets_grid_type_id__volatile;
}

