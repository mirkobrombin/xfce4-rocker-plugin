/* UserView.c generated by valac 0.50.1, the Vala compiler
 * generated from UserView.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/**/
/*  Copyright (C) 2017 Nick Wilkins*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <gtk/gtk.h>
#include <glib-object.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <glib.h>

#define ROCKER_WIDGETS_TYPE_USER_VIEW (rocker_widgets_user_view_get_type ())
#define ROCKER_WIDGETS_USER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserView))
#define ROCKER_WIDGETS_USER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserViewClass))
#define ROCKER_WIDGETS_IS_USER_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW))
#define ROCKER_WIDGETS_IS_USER_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_WIDGETS_TYPE_USER_VIEW))
#define ROCKER_WIDGETS_USER_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserViewClass))

typedef struct _RockerWidgetsUserView RockerWidgetsUserView;
typedef struct _RockerWidgetsUserViewClass RockerWidgetsUserViewClass;
typedef struct _RockerWidgetsUserViewPrivate RockerWidgetsUserViewPrivate;
enum  {
	ROCKER_WIDGETS_USER_VIEW_0_PROPERTY,
	ROCKER_WIDGETS_USER_VIEW_NUM_PROPERTIES
};
static GParamSpec* rocker_widgets_user_view_properties[ROCKER_WIDGETS_USER_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define ROCKER_TYPE_SETTINGS (rocker_settings_get_type ())
#define ROCKER_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ROCKER_TYPE_SETTINGS, RockerSettings))
#define ROCKER_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ROCKER_TYPE_SETTINGS, RockerSettingsClass))
#define ROCKER_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ROCKER_TYPE_SETTINGS))
#define ROCKER_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ROCKER_TYPE_SETTINGS))
#define ROCKER_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ROCKER_TYPE_SETTINGS, RockerSettingsClass))

typedef struct _RockerSettings RockerSettings;
typedef struct _RockerSettingsClass RockerSettingsClass;

struct _RockerWidgetsUserView {
	GtkBox parent_instance;
	RockerWidgetsUserViewPrivate * priv;
};

struct _RockerWidgetsUserViewClass {
	GtkBoxClass parent_class;
};

struct _RockerWidgetsUserViewPrivate {
	GtkImage* face;
	GtkGrid* grid;
	GtkLabel* name;
	GtkButton* button;
};

static gint RockerWidgetsUserView_private_offset;
static gpointer rocker_widgets_user_view_parent_class = NULL;

GType rocker_widgets_user_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerWidgetsUserView, g_object_unref)
RockerWidgetsUserView* rocker_widgets_user_view_new (void);
RockerWidgetsUserView* rocker_widgets_user_view_construct (GType object_type);
GType rocker_settings_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (RockerSettings, g_object_unref)
RockerSettings* rocker_rocker_get_settings (void);
gint rocker_settings_get_icon_size (RockerSettings* self);
static void rocker_widgets_user_view_finalize (GObject * obj);
static GType rocker_widgets_user_view_get_type_once (void);

static inline gpointer
rocker_widgets_user_view_get_instance_private (RockerWidgetsUserView* self)
{
	return G_STRUCT_MEMBER_P (self, RockerWidgetsUserView_private_offset);
}

RockerWidgetsUserView*
rocker_widgets_user_view_construct (GType object_type)
{
	RockerWidgetsUserView * self = NULL;
	GtkGrid* _tmp0_;
	GtkButton* _tmp1_;
	GtkLabel* _tmp2_;
	GdkPixbuf* _tmp3_ = NULL;
	RockerSettings* _tmp4_;
	RockerSettings* _tmp5_;
	gint _tmp6_;
	gint _tmp7_;
	RockerSettings* _tmp8_;
	RockerSettings* _tmp9_;
	gint _tmp10_;
	gint _tmp11_;
	GdkPixbuf* _tmp12_;
	GtkImage* _tmp13_;
	GtkButton* _tmp14_;
	GtkImage* _tmp15_;
	GtkButton* _tmp16_;
	GtkButton* _tmp17_;
	GtkButton* _tmp18_;
	GtkGrid* _tmp19_;
	GtkGrid* _tmp20_;
	GtkGrid* _tmp21_;
	GtkButton* _tmp22_;
	GtkGrid* _tmp23_;
	GError* _inner_error0_ = NULL;
	self = (RockerWidgetsUserView*) g_object_new (object_type, NULL);
	_tmp0_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->grid);
	self->priv->grid = _tmp0_;
	_tmp1_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->button);
	self->priv->button = _tmp1_;
	_tmp2_ = (GtkLabel*) gtk_label_new ("Nick");
	g_object_ref_sink (_tmp2_);
	_g_object_unref0 (self->priv->name);
	self->priv->name = _tmp2_;
	_tmp4_ = rocker_rocker_get_settings ();
	_tmp5_ = _tmp4_;
	_tmp6_ = rocker_settings_get_icon_size (_tmp5_);
	_tmp7_ = _tmp6_;
	_tmp8_ = rocker_rocker_get_settings ();
	_tmp9_ = _tmp8_;
	_tmp10_ = rocker_settings_get_icon_size (_tmp9_);
	_tmp11_ = _tmp10_;
	_tmp12_ = gdk_pixbuf_new_from_file_at_scale ("/home/nick/.face", _tmp7_, _tmp11_, TRUE, &_inner_error0_);
	_tmp3_ = _tmp12_;
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
		g_clear_error (&_inner_error0_);
		return NULL;
	}
	_tmp13_ = (GtkImage*) gtk_image_new_from_pixbuf (_tmp3_);
	g_object_ref_sink (_tmp13_);
	_g_object_unref0 (self->priv->face);
	self->priv->face = _tmp13_;
	_tmp14_ = self->priv->button;
	_tmp15_ = self->priv->face;
	gtk_button_set_image (_tmp14_, (GtkWidget*) _tmp15_);
	_tmp16_ = self->priv->button;
	gtk_button_set_image_position (_tmp16_, GTK_POS_LEFT);
	_tmp17_ = self->priv->button;
	gtk_button_set_label (_tmp17_, "Nick");
	_tmp18_ = self->priv->button;
	gtk_button_set_relief (_tmp18_, GTK_RELIEF_NONE);
	_tmp19_ = self->priv->grid;
	gtk_orientable_set_orientation ((GtkOrientable*) _tmp19_, GTK_ORIENTATION_HORIZONTAL);
	_tmp20_ = self->priv->grid;
	gtk_grid_set_row_spacing (_tmp20_, 30);
	_tmp21_ = self->priv->grid;
	_tmp22_ = self->priv->button;
	gtk_container_add ((GtkContainer*) _tmp21_, (GtkWidget*) _tmp22_);
	_tmp23_ = self->priv->grid;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp23_);
	_g_object_unref0 (_tmp3_);
	return self;
}

RockerWidgetsUserView*
rocker_widgets_user_view_new (void)
{
	return rocker_widgets_user_view_construct (ROCKER_WIDGETS_TYPE_USER_VIEW);
}

static void
rocker_widgets_user_view_class_init (RockerWidgetsUserViewClass * klass,
                                     gpointer klass_data)
{
	rocker_widgets_user_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &RockerWidgetsUserView_private_offset);
	G_OBJECT_CLASS (klass)->finalize = rocker_widgets_user_view_finalize;
}

static void
rocker_widgets_user_view_instance_init (RockerWidgetsUserView * self,
                                        gpointer klass)
{
	self->priv = rocker_widgets_user_view_get_instance_private (self);
}

static void
rocker_widgets_user_view_finalize (GObject * obj)
{
	RockerWidgetsUserView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ROCKER_WIDGETS_TYPE_USER_VIEW, RockerWidgetsUserView);
	_g_object_unref0 (self->priv->face);
	_g_object_unref0 (self->priv->grid);
	_g_object_unref0 (self->priv->name);
	_g_object_unref0 (self->priv->button);
	G_OBJECT_CLASS (rocker_widgets_user_view_parent_class)->finalize (obj);
}

static GType
rocker_widgets_user_view_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (RockerWidgetsUserViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) rocker_widgets_user_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (RockerWidgetsUserView), 0, (GInstanceInitFunc) rocker_widgets_user_view_instance_init, NULL };
	GType rocker_widgets_user_view_type_id;
	rocker_widgets_user_view_type_id = g_type_register_static (gtk_box_get_type (), "RockerWidgetsUserView", &g_define_type_info, 0);
	RockerWidgetsUserView_private_offset = g_type_add_instance_private (rocker_widgets_user_view_type_id, sizeof (RockerWidgetsUserViewPrivate));
	return rocker_widgets_user_view_type_id;
}

GType
rocker_widgets_user_view_get_type (void)
{
	static volatile gsize rocker_widgets_user_view_type_id__volatile = 0;
	if (g_once_init_enter (&rocker_widgets_user_view_type_id__volatile)) {
		GType rocker_widgets_user_view_type_id;
		rocker_widgets_user_view_type_id = rocker_widgets_user_view_get_type_once ();
		g_once_init_leave (&rocker_widgets_user_view_type_id__volatile, rocker_widgets_user_view_type_id);
	}
	return rocker_widgets_user_view_type_id__volatile;
}

